<div
  class="
    flex
    flex-col
    gap-4
  "
>
  <div
    style="grid-template-columns: repeat(3, max-content)"
    class="
      grid
    "
  >
    <app-table-cell
      *ngFor="let headerCell of headerCells"
      [tableCell]="headerCell"
    ></app-table-cell>
    <app-table-cell
      [tableCell]="customCell"
      *ngFor="let numberPlatesGroup of numberPlatesGroups"
    >
      <div
        class="
          flex
          flex-col
        "
      >
        <div
          class="
            flex
            justify-between
            gap-2
          "
          *ngFor="let numberPlateState of numberPlatesGroup"
        >
          <div>
            {{numberPlateState.bikeName}}
          </div>
          <div>
            {{numberPlateState.label}}
          </div>
          <amber-icon
            backgroundImageUrl="assets/zoom-in.svg"
            size="1.25em"
            *ngIf="numberPlateState.contractId !== 0"
            (click)="emitContract(numberPlateState.contractId)"
          ></amber-icon>
        </div>
      </div>
    </app-table-cell>
  </div>

  <div
    style="grid-template-columns: repeat(2, max-content);"
    class="
      grid
      gap-x-4
      gap-y-2
    "
  >
    <ng-container
      *ngFor="let dateWrapper of dateWrappersPicked; let index = index"
    >
      <div>{{dateWrapper.label}}</div>
      <div
        class="
          underline
          cursor-pointer
        "
        (click)="dateWrapper.componentDisplay =! dateWrapper.componentDisplay"
      >
        {{dateWrapper.valueDisplay}}
      </div>
      <div
        class="
        col-span-full
      "
        *ngIf="dateWrapper.componentDisplay"
      >
        <app-range-picker-box
          [(display)]="dateWrapper.componentDisplay"
          datePickingMode="single"
          [pickedDates]="datePicked(index)"
          (pickedDatesChange)="setDatePicked(index, $event)"
          [allowPastRange]="true"
        ></app-range-picker-box>
      </div>
    </ng-container>

    <div>Type</div>
    <div
      class="
        flex
        flex-col
      "
    >
      <ng-container
        *ngFor="let bikeModelTypeWrapper of bikeModelTypeWrappers"
      >
        <div
          class="
            flex
            gap-2
            items-center
          "
        >
          <input
            type="checkbox"
            class="
              w-4
              h-4
            "
            [(ngModel)]="bikeModelTypeWrapper.checked"
          />
          {{bikeModelTypeWrapper.label}}
        </div>
      </ng-container>
    </div>

    <div>Number Plate</div>
    <div>
      <input
        amberCommonInputText
        [(ngModel)]="numberPlate"
      />
    </div>

    <div>Bike Name</div>
    <div>
      <input
        amberCommonInputText
        [(ngModel)]="bikeName"
      />
    </div>
  </div>

  <div
    class="
      flex
      flex-row-reverse
      gap-2
    "
  >
    <amber-button
      backgroundColor="#4bdb84"
      borderColor="#4bdb84"
      [action]="reload.bind(this)"
    >
      <amber-icon
        backgroundImageUrl="assets/reload.svg"
        size="1em"
      ></amber-icon>
      Reload
    </amber-button>
    <amber-button
      backgroundColor="#b8d1c2"
      borderColor="#b8d1c2"
    >
      <amber-icon
        backgroundImageUrl="assets/close.svg"
        size="1em"
      ></amber-icon>
      Close
    </amber-button>
  </div>
</div>

